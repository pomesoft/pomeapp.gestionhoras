<form autocomplete="off" [formGroup]="formulario" (ngSubmit)="onClickGuardar()">
    <div class="modal-content w-75">
        <div class="modal-body">

            <div class="form-group row">

                <label class="col-sm-3 control-label col-form-label text-right">Usuario:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon ">
                            <i class="fa fa-user-o"></i>
                        </span>
                        <input id="typeahead-focus" type="text" class="form-control" formControlName="profesional"
                            placeholder="Seleccione un usuario" [ngbTypeahead]="searchProfesional"
                            (focus)="focus$.next($any($event).target.value)"
                            (click)="click$.next($any($event).target.value)" #instanceProfesional="ngbTypeahead" />
                        <span class="input-group-addon" role="button" (click)="onClickLimpiarTypeahead('profesional')">
                            <i class="fa fa-times"></i>
                        </span>
                    </div>
                </div>

                <label class="col-sm-3 control-label col-form-label text-right">Cliente:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-user"></i>
                        </span>
                        <input id="clienteTypeahead" type="text" class="form-control" formControlName="cliente"
                            placeholder="Seleccione un cliente" [class.is-invalid]="clienteNoValido"
                            [ngbTypeahead]="searchCliente" (focus)="focusCliente$.next($any($event).target.value)"
                            (click)="clickCliente$.next($any($event).target.value)" #instanceCliente="ngbTypeahead" />
                        <span class="input-group-addon" role="button" (click)="onClickLimpiarTypeahead('cliente')">
                            <i class="fa fa-times"></i>
                        </span>
                    </div>
                    <small *ngIf="clienteNoValido" class="text-danger">
                        Debe seleccionar un cliente
                    </small>
                </div>


                <label class="col-sm-3 control-label col-form-label text-right">Proyecto:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-list-alt"></i>
                        </span>
                        <input id="proyectoTypeahead" type="text" class="form-control" formControlName="proyecto"
                            placeholder="Seleccione un proyecto" [class.is-invalid]="proyectoNoValido"
                            [ngbTypeahead]="searchProyecto" (focus)="focusProyecto$.next($any($event).target.value)"
                            (click)="clickProyecto$.next($any($event).target.value)" #instanceProyecto="ngbTypeahead" />
                        <span class="input-group-addon" role="button" (click)="onClickLimpiarTypeahead('proyecto')">
                            <i class="fa fa-times"></i>
                        </span>
                    </div>
                    <small *ngIf="proyectoNoValido" class="text-danger">
                        Debe seleccionar un proyecto
                    </small>
                </div>

                <label class="col-sm-3 control-label col-form-label text-right">Tipo de Proyecto:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-pencil-square-o"></i>
                        </span>
                        <input type="text" class="form-control" placeholder="Tipo de proyecto"
                            formControlName="tipoProyecto">
                    </div>
                    <small *ngIf="tipoProyectoNoValido" class="text-danger">
                        Debe indicar tipo de proyecto
                    </small>
                </div>


                <label class="col-sm-3 control-label col-form-label text-right">Función Asociada:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-pencil-square-o"></i>
                        </span>
                        <select class="form-control custom-select" id="rolFuncion" 
                            formControlName="rolFuncion">
                            <option value="0">Seleccione una función asociada</option>
                            <option value="1">EXPERTO REGULATORIO</option>
                            <option value="2">EXPERTO FARMACOVIGILANCIA</option>
                            <option value="3">EXPERTO MEDICO</option>
                            <option value="4">EXPERTO COMPLIANCE</option>
                            <option value="5">EXPERTO LEGAL</option>
                            <option value="6">PROJECT MANAGER</option>
                            <option value="7">ANALISTA SENIOR</option>
                            <option value="8">ANALISTA JUNIOR</option>
                            <option value="9">TECNICO ADMINISTRATIVO</option>
                            <option value="10">GESTORÍA</option>
                        </select>
                        
                    </div>
                    <small *ngIf="rolFuncionNoValido" class="text-danger">
                        Debe seleccioinar función asociada
                    </small>
                </div>

                <label class="col-sm-3 control-label col-form-label text-right">Detalle y Producto:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-pencil-square-o"></i>
                        </span>
                        <textarea class="form-control" rows="2"  placeholder="Ingrese detalle y producto si aplica" 
                            formControlName="detalle"></textarea>
                    </div>
                </div>


                <label class="col-sm-3 control-label col-form-label text-center">Fecha:</label>
                <div class="col-sm-3 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon" (click)="dteFecha.toggle()">
                            <i class="fa fa-calendar"></i>
                        </span>
                        <input id="fechaNgDateStruct" class="form-control" placeholder="dd/mm/yyyy" name="dteFecha"
                            formControlName="fecha" [class.is-invalid]="fechaNoValida" ngbDatepicker
                            #dteFecha="ngbDatepicker" />
                    </div>
                    <small *ngIf="fechaNoValida" class="text-danger">
                        Debe indicar fecha
                    </small>
                </div>
                <label class="col-sm-1 control-label col-form-label text-center">&nbsp;</label>

                <label class="col-sm-2 control-label col-form-label text-center">Horas:</label>
                <div class="col-sm-3 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-clock-o"></i>
                        </span>
                        <input type="number" class="form-control" id="horas" 
                            formControlName="horas"
                            [class.is-invalid]="horasNoValida"
                            (focus)="onFocus($event)">
                    </div>
                    <small *ngIf="horasNoValida" class="text-danger">
                        Debe ingresar horas
                    </small>
                </div>
            </div>


        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-outline-success ">
                <i class="fa fa-save m-2"></i>
                Guardar horas
            </button>
            <button type="button" class="btn btn-default" disabled *ngIf="procesando">
                <i class="fa fa-spinner fa-sync m-2"></i>
                Procesando...
            </button>
            <!-- <button type="button" class="btn btn-default" (click)="onClickCerrar()">
                <i class="fa fa-times m-2"></i>
                Cancelar
            </button> -->
            <div class="row">
                <div class="col-12 col-lg-6">

                </div>
                <div class="col-12 col-lg-6 p-t-5">

                </div>
            </div>
        </div>
    </div>
</form>