<form autocomplete="off" [formGroup]="formulario" (ngSubmit)="onClickGuardar()">
    <div class="modal-content w-75">
        <div class="modal-body">

            <div class="form-group row">
                <label class="col-sm-3 control-label col-form-label text-right">Proyecto:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa  fa-list-alt"></i>
                        </span>
                        <input id="proyectoTypeahead" type="text" class="form-control" formControlName="proyecto"
                            placeholder="Seleccione un proyecto" [class.is-invalid]="proyectoNoValido"
                            [ngbTypeahead]="searchProyecto" (focus)="focusProyecto$.next($any($event).target.value)"
                            (click)="clickProyecto$.next($any($event).target.value)" #instanceproyecto="ngbTypeahead" />
                        <span class="input-group-addon" (click)="onClickLimpiarTypeahead('proyecto')">
                            <i class="fa fa-times"></i>
                        </span>
                    </div>
                    <small *ngIf="proyectoNoValido" class="text-danger">
                        Debe seleccionar un proyecto
                    </small>
                </div>


                <label class="col-sm-3 control-label col-form-label text-right">Tarea:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-pencil-square-o"></i>
                        </span>
                        <input type="text" class="form-control" placeholder="Abreviado" formControlName="tarea"
                            [class.is-invalid]="tareaNoValido">
                        <small *ngIf="tareaNoValido" class="text-danger">
                            Debe ingresar tarea
                        </small>
                    </div>
                </div>


                <label class="col-sm-3 control-label col-form-label text-right">Tipo de Tarea:</label>
                <div class="col-sm-9 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-pencil-square-o"></i>
                        </span>
                        <select class="custom-select col-6" id="tarea" formControlName="tipoTarea" autofocus
                            [class.is-invalid]="tipoTareaNoValido">
                            <option *ngFor="let item of tiposTarea" [value]="item.Id">
                                {{item.Descripcion}}
                            </option>
                        </select>
                    </div>
                    <small *ngIf="tipoTareaNoValido" class="text-danger">
                        Debe indicar tipo de tarea
                    </small>
                </div>


                <label class="col-sm-3 control-label col-form-label text-center">Fecha:</label>
                <div class="col-sm-3 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon" (click)="dteFecha.toggle()">
                            <i class="fa fa-calendar"></i>
                        </span>
                        <input id="fechaNgDateStruct" class="form-control" placeholder="dd/mm/yyyy"
                            name="dteFecha" formControlName="fecha"
                            [class.is-invalid]="fechaNoValida" 
                            ngbDatepicker 
                            #dteFecha="ngbDatepicker" />
                    </div>
                    <small *ngIf="fechaNoValida" class="text-danger">
                        Debe indicar fecha
                    </small>
                </div>
                <label class="col-sm-1 control-label col-form-label text-center">&nbsp;</label>

                <label class="col-sm-2 control-label col-form-label text-center">Horas:</label>
                <div class="col-sm-3 control-label col-form-label">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="fa fa-clock-o"></i>
                        </span>
                        <input type="number" class="form-control" id="horas"
                            formControlName="horas" [class.is-invalid]="horasNoValida">
                    </div>
                    <small *ngIf="horasNoValida" class="text-danger">
                        Debe ingresar horas
                    </small>
                </div>
            </div>


        </div>
        <div class="modal-footer">
            <div class="row">
                <div class="col-12 col-lg-9">
                    
                </div>
                <div class="col-12 col-lg-3 p-t-5">
                    <button type="submit" class="btn btn-outline-success btn-block">
                        <i class="fa fa-save m-2"></i>
                        Grabar
                    </button>
                    <button type="button" class="btn btn-default" disabled *ngIf="procesando">
                        <i class="fa fa-spinner fa-sync m-2"></i>
                        Procesando...
                    </button>
                    <!-- <button type="button" class="btn btn-default" (click)="onClickCerrar()">
                        <i class="fa fa-times m-2"></i>
                        Cancelar
                    </button> -->  
                </div>            
            </div>            
        </div>
    </div>
</form>